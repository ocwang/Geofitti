<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Generating ink content | WILL SDK Docs</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://localhost/will_docs_instance1/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://localhost/will_docs_instance1/wp-content/themes/will-doc/js/html5.js"></script>
	<![endif]-->

	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/style.css">
	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/accordionmenu.css">

	<script src="../../wp-content/themes/will-doc/js/jquery.min.js"></script>
	<script src="../../wp-content/themes/will-doc/js/sidebar.js"></script>

	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/highlight.css">
	<script src="../../wp-content/themes/will-doc/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
	<header>
		<div class="title">
			<div>WILL &trade;</div>
			<div>sdk documentation</div>
		</div>
		<!--
		<div id="searchbox">
			<input class="typeahead" type="text" placeholder="{{ search_text }}">
		</div>
-->
	</header>

	<div id="sitewrapper">
<div id="sidebar">
	<nav class="accordion">

				<h1 class="do-not-cause-collapse" title="General Concepts">

			General Concepts
			</h1>

							<div class="active-menu never-close">
					<h2 class="not-collapsible" title="Architectural Overview">

								<a href="../architecture/index.html"
											>Architectural Overview</a>
					
			</h2>

						<h2 class="not-collapsible" title="Generating ink content">

								<a href="index.html"
						 class="selected"					>Generating ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Rendering ink content">

								<a href="../rasterizer/index.html"
											>Rendering ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Encoding and decoding ink content">

								<a href="../serialization/index.html"
											>Encoding and decoding ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Exchanging ink content">

								<a href="../file-format/index.html"
											>Exchanging ink content</a>
					
			</h2>

							</div>
							<h1 title="iOS SDK">

			iOS SDK
			</h1>

							<div>
					<h2 title="Getting started">

								<a href="../../ios/getting-started/index.html"
											>Getting started</a>
					
			</h2>

						<h2 title="Release Notes">

								<a href="../../ios/release-notes/index.html"
											>Release Notes</a>
					
			</h2>

						<h2 title="Tutorials Overview">

								<a href="../../ios/tutorials/index.html"
											>Tutorials Overview</a>
					
			</h2>

							<div>
					<h3 title="Tutorial 1: Drawing with touch">

								<a href="../../ios/tutorials-tutorial1/index.html"
											>Tutorial 1: Drawing with touch</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Setting up the ink engine">

								<a href="../../ios/tutorials-tutorial1-part1/index.html"
											>Part 1: Setting up the ink engine</a>
					
			</h4>

						<h4 title="Part 2: Building paths from touch input">

								<a href="../../ios/tutorials-tutorial1-part2/index.html"
											>Part 2: Building paths from touch input</a>
					
			</h4>

						<h4 title="Part 3: Smoothing paths">

								<a href="../../ios/tutorials-tutorial1-part3/index.html"
											>Part 3: Smoothing paths</a>
					
			</h4>

						<h4 title="Part 4: Drawing semi-transparent strokes">

								<a href="../../ios/tutorials-tutorial1-part4/index.html"
											>Part 4: Drawing semi-transparent strokes</a>
					
			</h4>

						<h4 title="Part 5: Drawing preliminary paths">

								<a href="../../ios/tutorials-tutorial1-part5/index.html"
											>Part 5: Drawing preliminary paths</a>
					
			</h4>

						<h4 title="Part 6: Using a particle brush">

								<a href="../../ios/tutorials-tutorial1-part6/index.html"
											>Part 6: Using a particle brush</a>
					
			</h4>

						<h4 title="Part 7: Generating a Bezier path">

								<a href="../../ios/tutorials-tutorial1-part7/index.html"
											>Part 7: Generating a Bezier path</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 2: Encoding and decoding strokes">

								<a href="../../ios/tutorials-tutorial2/index.html"
											>Tutorial 2: Encoding and decoding strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Creating a stroke model">

								<a href="../../ios/tutorials-tutorial2-part1/index.html"
											>Part 1: Creating a stroke model</a>
					
			</h4>

						<h4 title="Part 2: Serializing and deserializing strokes">

								<a href="../../ios/tutorials-tutorial2-part2/index.html"
											>Part 2: Serializing and deserializing strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 3: Erasing strokes">

								<a href="../../ios/tutorials-tutorial3/index.html"
											>Tutorial 3: Erasing strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Extending the stroke model">

								<a href="../../ios/tutorials-tutorial3-part1/index.html"
											>Part 1: Extending the stroke model</a>
					
			</h4>

						<h4 title="Part 2: Creating an eraser">

								<a href="../../ios/tutorials-tutorial3-part2/index.html"
											>Part 2: Creating an eraser</a>
					
			</h4>

						<h4 title="Part 3: Erasing parts of strokes">

								<a href="../../ios/tutorials-tutorial3-part3/index.html"
											>Part 3: Erasing parts of strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 4: Selecting strokes">

								<a href="../../ios/tutorials-tutorial4/index.html"
											>Tutorial 4: Selecting strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Selecting whole strokes">

								<a href="../../ios/tutorials-tutorial4-part1/index.html"
											>Part 1: Selecting whole strokes</a>
					
			</h4>

						<h4 title="Part 2: Selecting parts of strokes">

								<a href="../../ios/tutorials-tutorial4-part2/index.html"
											>Part 2: Selecting parts of strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 5: Working with rasters">

								<a href="../../ios/tutorials-tutorial5/index.html"
											>Tutorial 5: Working with rasters</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Displaying raster images">

								<a href="../../ios/tutorials-tutorial5-part1/index.html"
											>Part 1: Displaying raster images</a>
					
			</h4>

						<h4 title="Part 2: Creating image masks">

								<a href="../../ios/tutorials-tutorial5-part2/index.html"
											>Part 2: Creating image masks</a>
					
			</h4>

							</div>
								</div>
							<h2 title="API Reference">

			API Reference
			</h2>

							<div>
					<h3 title="Classes">

			Classes
			</h3>

							<div>
					<h4 title="WCMAbstractPathBuilder">

								<a href="../../ios/api-WCMAbstractPathBuilder/index.html"
											>WCMAbstractPathBuilder</a>
					
			</h4>

						<h4 title="WCMBezierPathUtils">

								<a href="../../ios/api-WCMBezierPathUtils/index.html"
											>WCMBezierPathUtils</a>
					
			</h4>

						<h4 title="WCMCGRectVector">

								<a href="../../ios/api-WCMCGRectVector/index.html"
											>WCMCGRectVector</a>
					
			</h4>

						<h4 title="WCMDirectStrokeBrush">

								<a href="../../ios/api-WCMDirectStrokeBrush/index.html"
											>WCMDirectStrokeBrush</a>
					
			</h4>

						<h4 title="WCMDocument">

								<a href="../../ios/api-WCMDocument/index.html"
											>WCMDocument</a>
					
			</h4>

						<h4 title="WCMDocumentContentType">

								<a href="../../ios/api-WCMDocumentContentType/index.html"
											>WCMDocumentContentType</a>
					
			</h4>

						<h4 title="WCMDocumentProperties">

								<a href="../../ios/api-WCMDocumentProperties/index.html"
											>WCMDocumentProperties</a>
					
			</h4>

						<h4 title="WCMDocumentResource">

								<a href="../../ios/api-WCMDocumentResource/index.html"
											>WCMDocumentResource</a>
					
			</h4>

						<h4 title="WCMDocumentSection">

								<a href="../../ios/api-WCMDocumentSection/index.html"
											>WCMDocumentSection</a>
					
			</h4>

						<h4 title="WCMDocumentSectionContainer">

								<a href="../../ios/api-WCMDocumentSectionContainer/index.html"
											>WCMDocumentSectionContainer</a>
					
			</h4>

						<h4 title="WCMDocumentSectionElement">

								<a href="../../ios/api-WCMDocumentSectionElement/index.html"
											>WCMDocumentSectionElement</a>
					
			</h4>

						<h4 title="WCMDocumentSectionGroup">

								<a href="../../ios/api-WCMDocumentSectionGroup/index.html"
											>WCMDocumentSectionGroup</a>
					
			</h4>

						<h4 title="WCMDocumentSectionImage">

								<a href="../../ios/api-WCMDocumentSectionImage/index.html"
											>WCMDocumentSectionImage</a>
					
			</h4>

						<h4 title="WCMDocumentSectionPaths">

								<a href="../../ios/api-WCMDocumentSectionPaths/index.html"
											>WCMDocumentSectionPaths</a>
					
			</h4>

						<h4 title="WCMDocumentSectionRect">

								<a href="../../ios/api-WCMDocumentSectionRect/index.html"
											>WCMDocumentSectionRect</a>
					
			</h4>

						<h4 title="WCMDocumentSectionView">

								<a href="../../ios/api-WCMDocumentSectionView/index.html"
											>WCMDocumentSectionView</a>
					
			</h4>

						<h4 title="WCMFloatVector">

								<a href="../../ios/api-WCMFloatVector/index.html"
											>WCMFloatVector</a>
					
			</h4>

						<h4 title="WCMFloatVectorPointer">

								<a href="../../ios/api-WCMFloatVectorPointer/index.html"
											>WCMFloatVectorPointer</a>
					
			</h4>

						<h4 title="WCMInkDecoder">

								<a href="../../ios/api-WCMInkDecoder/index.html"
											>WCMInkDecoder</a>
					
			</h4>

						<h4 title="WCMInkEncoder">

								<a href="../../ios/api-WCMInkEncoder/index.html"
											>WCMInkEncoder</a>
					
			</h4>

						<h4 title="WCMIntVector">

								<a href="../../ios/api-WCMIntVector/index.html"
											>WCMIntVector</a>
					
			</h4>

						<h4 title="WCMIntersector">

								<a href="../../ios/api-WCMIntersector/index.html"
											>WCMIntersector</a>
					
			</h4>

						<h4 title="WCMLayer">

								<a href="../../ios/api-WCMLayer/index.html"
											>WCMLayer</a>
					
			</h4>

						<h4 title="WCMMultiChannelSmoothener">

								<a href="../../ios/api-WCMMultiChannelSmoothener/index.html"
											>WCMMultiChannelSmoothener</a>
					
			</h4>

						<h4 title="WCMPaintDecoder">

								<a href="../../ios/api-WCMPaintDecoder/index.html"
											>WCMPaintDecoder</a>
					
			</h4>

						<h4 title="WCMPaintEncoder">

								<a href="../../ios/api-WCMPaintEncoder/index.html"
											>WCMPaintEncoder</a>
					
			</h4>

						<h4 title="WCMParticlePaint">

								<a href="../../ios/api-WCMParticlePaint/index.html"
											>WCMParticlePaint</a>
					
			</h4>

						<h4 title="WCMParticleStrokeBrush">

								<a href="../../ios/api-WCMParticleStrokeBrush/index.html"
											>WCMParticleStrokeBrush</a>
					
			</h4>

						<h4 title="WCMPathAppendResult">

								<a href="../../ios/api-WCMPathAppendResult/index.html"
											>WCMPathAppendResult</a>
					
			</h4>

						<h4 title="WCMPressurePathBuilder">

								<a href="../../ios/api-WCMPressurePathBuilder/index.html"
											>WCMPressurePathBuilder</a>
					
			</h4>

						<h4 title="WCMRIFFChunk">

								<a href="../../ios/api-WCMRIFFChunk/index.html"
											>WCMRIFFChunk</a>
					
			</h4>

						<h4 title="WCMRIFFDecoder">

								<a href="../../ios/api-WCMRIFFDecoder/index.html"
											>WCMRIFFDecoder</a>
					
			</h4>

						<h4 title="WCMRIFFEncoder">

								<a href="../../ios/api-WCMRIFFEncoder/index.html"
											>WCMRIFFEncoder</a>
					
			</h4>

						<h4 title="WCMRenderingContext">

								<a href="../../ios/api-WCMRenderingContext/index.html"
											>WCMRenderingContext</a>
					
			</h4>

						<h4 title="WCMSmoothener">

								<a href="../../ios/api-WCMSmoothener/index.html"
											>WCMSmoothener</a>
					
			</h4>

						<h4 title="WCMSmoothenerFinisher">

								<a href="../../ios/api-WCMSmoothenerFinisher/index.html"
											>WCMSmoothenerFinisher</a>
					
			</h4>

						<h4 title="WCMSolidColorStrokeBrush">

								<a href="../../ios/api-WCMSolidColorStrokeBrush/index.html"
											>WCMSolidColorStrokeBrush</a>
					
			</h4>

						<h4 title="WCMSpeedPathBuilder">

								<a href="../../ios/api-WCMSpeedPathBuilder/index.html"
											>WCMSpeedPathBuilder</a>
					
			</h4>

						<h4 title="WCMStrokeBrush">

								<a href="../../ios/api-WCMStrokeBrush/index.html"
											>WCMStrokeBrush</a>
					
			</h4>

						<h4 title="WCMStrokeRenderer">

								<a href="../../ios/api-WCMStrokeRenderer/index.html"
											>WCMStrokeRenderer</a>
					
			</h4>

						<h4 title="WCMTransformableProtocol">

								<a href="../../ios/api-WCMTransformableProtocol/index.html"
											>WCMTransformableProtocol</a>
					
			</h4>

						<h4 title="WCMVersion">

								<a href="../../ios/api-WCMVersion/index.html"
											>WCMVersion</a>
					
			</h4>

						<h4 title="WCMWILLFileFormatDecoder">

								<a href="../../ios/api-WCMWILLFileFormatDecoder/index.html"
											>WCMWILLFileFormatDecoder</a>
					
			</h4>

						<h4 title="WCMWILLFileFormatEncoder">

								<a href="../../ios/api-WCMWILLFileFormatEncoder/index.html"
											>WCMWILLFileFormatEncoder</a>
					
			</h4>

							</div>
							<h3 title="Constants">

			Constants
			</h3>

							<div>
					<h4 title="WCMBlendMode">

								<a href="../../ios/api-WCMBlendMode/index.html"
											>WCMBlendMode</a>
					
			</h4>

						<h4 title="WCMInputPhase">

								<a href="../../ios/api-WCMInputPhase/index.html"
											>WCMInputPhase</a>
					
			</h4>

						<h4 title="WCMPropertyFunction">

								<a href="../../ios/api-WCMPropertyFunction/index.html"
											>WCMPropertyFunction</a>
					
			</h4>

						<h4 title="WCMPropertyName">

								<a href="../../ios/api-WCMPropertyName/index.html"
											>WCMPropertyName</a>
					
			</h4>

						<h4 title="WCMStrokeBrushRotation">

								<a href="../../ios/api-WCMStrokeBrushRotation/index.html"
											>WCMStrokeBrushRotation</a>
					
			</h4>

							</div>
							<h3 title="Index">

								<a href="../../ios/api-index/index.html"
											>Index</a>
					
			</h3>

						<h3 title="Hierarchy">

								<a href="../../ios/api-hierarchy/index.html"
											>Hierarchy</a>
					
			</h3>

			
	</nav>
</div><div id="page_content" class='page-content'>
	<div class="seealso"><h2>See Also</h2><p>For more information, see the following topics:</p><ul><li><a href="../architecture/index.html">Architectural Overview</a></li><li><a href="../rasterizer/index.html">Rendering ink content</a></li><li><a href="../serialization/index.html">Encoding and decoding ink content</a></li><li><a href="../file-format/index.html">Exchanging ink content</a></li><li><a href="../../ios/getting-started/index.html">WILL SDK for iOS Store</a></li></ul></div>
<div id="post-3" class="page">
	<h1>Generating ink content</h1>
<p>There are two modules that are key to the path generation process: the <strong>Path</strong> module and the <strong>Smoothing</strong> module.</p>
<p>The <strong>Path</strong> module converts raw input events into paths that follow the mathematical model that is used in the WILL Software Library. This model represents a stroke as a <a href="https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Catmull.E2.80.93Rom_spline">Catmull-Rom</a> interpolated sequence of control points, in which each point has a 2D position and optional width and opacity values. The configuration that the application developer applies determines the exact properties of each point in a path.</p>
<p>The <strong>Smoothing</strong> module modifies the points generated by the <strong>Path</strong> module to improve the appearance of the stroke. The <strong>Path</strong> and <strong>Smoothing</strong> modules are designed to work together.</p>
<h2>Path module</h2>
<p>The <strong>Path</strong> module is designed to absorb the specifics of various input technologies and convert the input into  a path that is independent of specific input technology. This conversion is achieved through components that can be configured to fit in all types of pointer input technologies: mouse, touch, and active pen.</p>
<h3>Components</h3>
<p>The <strong>Path</strong> module contains two components called <code>SpeedPathBuilder</code> and <code>PressurePathBuilder</code>. These components provide two implementations of a single strategy for path generation. In principle, this strategy is as follows:</p>
<ol>
<li>Calculate the generator value from either the input speed or the input pressure.</li>
<li>Use the generator value to vary stroke width and opacity (depending on the configuration).</li>
<li>Adjust the position and the optionally-generated values to represent control points in a Catmull-Rom interpolated path.</li>
</ol>
<p>The <code>SpeedPathBuilder</code> component calculates path geometry based on the speed of the input, and <code>PressurePathBuilder</code> calculates path geometry based on the input pressure.</p>
<h3>Configuration</h3>
<p>Because both components share the same abstract strategy for path generation, they also share the same configuration options. These configuration options are as follows:</p>
<ul>
<li>Minimum movement threshold
The minimum distance that the pointer device must travel before the input is accepted for processing.</li>
<li>Min-max normalization of the input
Minimum and maximum values of the width/opacity generator value. For the <code>SpeedPathBuilder</code> component, this normalization refers to the input velocity. For the <code>PressurePathBuilder</code> component, this normalization refers to the pressure.</li>
<li>Width configuration
The start and end values, minimum and maximum values, and generation function (exponential, periodic, or sigmoid) for variable width generation.</li>
<li>Alpha configuration
The start and end values, minimum and maximum values, and generation function (exponential, periodic, or sigmoid) for variable opacity generation.</li>
</ul>
<h3>Path construction</h3>
<p>The path construction process is divided into three phases:</p>
<ol>
<li>Converting a pointer event into a partial path</li>
<li>Adding the partial path to the existing path</li>
<li>Finishing the existing path</li>
</ol>
<p>Dividing the path construction gives you flexibility to process the partial path (for example, to smooth its control values) before adding it to the existing path.</p>
<p>Because a Catmull-Rom spline is not defined between the last two control points, there might be an offset between the last point defined by the path generation process and the position of the pointer on the screen. This offset can be perceived by the user as lag.</p>
<p>To eliminate this offset, you can use preliminary paths. This technique creates a preview path that connects the last point at which the path is defined to the current position of the pointer. The <strong>Path</strong> module components support this technique. At any time, the path builder can obtain the preliminary path without altering the original path that is under construction. The preliminary path is presented to the user temporarily for one frame (16 ms) to eliminate the perceived lag. For more information, see the <a href="index.html#related_tutorials">tutorials</a> on drawing preliminary paths for the desired platform.</p>
<p>A path is constructed in a linear vector that contains the control points represented as consequent float values. Depending on the configuration used, one control point can be represented by two, three, or four consequent float values. The number of the consequent values required to represent one control point is referred to as stride, as follows:</p>
<ul>
<li>Stride two
The stroke has position coordinates only. It will be drawn with constant width and opacity.</li>
<li>Stride three
The stroke has position coordinates and either variable width or variable opacity. Use an additional variable in conjunction with the stroke to specify whether the opacity or the width is variable.</li>
<li>Stride four
The stroke has position coordinates and both variable width and opacity.</li>
</ul>
<p><strong>Note:</strong> The stride concept is partially hidden in some of the platform-specific APIs.</p>
<h2>Smoothing module</h2>
<p>The <strong>Smoothing</strong> module provides a beautification algorithm that is optimized for control points generated using an input rate of 60 events per second. It greatly enhances the geometry of paths generated with the <code>SpeedPathBuilder</code> component.</p>
<p>The <strong>Smoothing</strong> module contains a component designed to be used in combination with <code>PathBuilder</code> components. When a partial path is generated by the <code>PathBuilder</code> component, you can invoke the smoothing component on the partial path. The smoothing component will alter the position of the control points.</p>
<p>The smoothing component instance works per channel (that is, position, width, or opacity). This allows the developer to apply the smoothing technique only on certain channels. For example, you can apply smoothing only to width values in the <code>PathBuilder</code> component, leaving the position unsmoothed to follow the user pointer more accurately. The <strong>Smoothing</strong> module includes a platform-specific helper to make its use more streamlined. It is important to note that the smoothing component works on a per-stroke basis and must therefore be reset between different strokes.</p>
<h3>Smoothing preliminary paths</h3>
<p>The smoothing technique increases the lag introduced by the Catmull-Rom spline. To counteract this, the smoothing component provides a smooth-finish technique that smooths a partial path between the last smoothed point and the position of the user pointer on the screen. This technique not only alters the position of the points in the partial path, but also generates new points to ensure that the smoothed partial path still reaches the pointer position. You can invoke this method on the partial path or the preliminary path obtained by the <code>PathBuilder</code> component.</p>
<p>For more information, see the <a href="index.html#related_tutorials">tutorials</a> on smoothing paths for the desired platform.</p>
<h2>Real time collaboration</h2>
<p>With WILL SDK for Web, you can create applications that allow multiple users to build paths on a shared canvas at the same time. For more information, see the <a href="index.html#related_tutorials">tutorials</a> on real time collaboration for the desired platform.</p>
</div> <!-- page -->
<div id="related_tutorials"><h2>Related tutorials</h2><ul><li><a href="../../ios/tutorials-tutorial1-part5/index.html">iOS Store: Drawing preliminary paths</a></li><li><a href="../../ios/tutorials-tutorial1-part3/index.html">iOS Store: Smoothing paths</a></li></ul></div></div> <!-- page_content -->

	</div><!-- #sitewrapper -->

	<footer>
		<img src="../../wp-content/themes/will-doc/images/img_logo_wacom.png" alt="" />
<!--
		<span>&nbsp;</span>
		<a href="/contact.html">Contact</a>
		<a href="/support.html">Support</a>
-->
	</footer>
</body>
</html>